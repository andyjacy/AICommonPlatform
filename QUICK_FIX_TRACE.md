## 🔧 调用链追踪 - 快速修复

你好！如果看不到调用链追踪信息，请按以下步骤操作：

### ⚡ 快速修复（3步）

#### 1️⃣ 清除浏览器缓存 **← 最重要！**

**Mac 用户:**
- 打开 Chrome/Edge：`Cmd + Shift + Delete`
- 打开 Safari：Menu → 历史记录 → 清空历史记录
- 打开 Firefox：`Cmd + Shift + Delete`

**Windows 用户:**
- 打开 Chrome/Edge/Firefox：`Ctrl + Shift + Delete`
- 选择"全部时间"
- 勾选"Cookie和其他网站数据"和"缓存的图片和文件"
- 点击"清除数据"

#### 2️⃣ 完全关闭浏览器

关闭浏览器窗口（不仅是标签页），然后重新打开

#### 3️⃣ 强制刷新页面

- Mac: 打开 http://localhost:3000/ 然后按 `Cmd + Shift + R`
- Windows: 打开 http://localhost:3000/ 然后按 `Ctrl + Shift + R`

### ✅ 验证修复成功

1. 在问答框输入任何问题
2. 点击"提问"按钮
3. 等待处理完成（观察进度条从 0% → 100%）
4. 在回答下方应该看到 **"🔍 查看调用链"** 按钮
5. 点击按钮，应该自动切换到"调用链追踪"标签页
6. 看到完整的追踪信息（追踪ID、步骤数、各步骤详情）

### 🐛 如果仍然没有显示

打开浏览器开发者工具查看日志：

**按 F12 打开开发者工具，查看 Console 标签页**

应该看到类似的日志：
```
✅ Trace data saved: {trace_id: "abc123", ...}
```

如果没有看到或看到错误信息，请：

1. 再次清除缓存（使用"清除全部时间"）
2. 完全重启浏览器
3. 访问 http://localhost:3000/?v=2.1.0（添加版本参数）

### 💡 工作原理

```
提问 → API 返回追踪数据 → 前端显示"查看调用链"按钮 → 点击查看详情
```

追踪数据包含：
- ✅ 追踪 ID（唯一标识）
- ✅ 处理步骤（11步完整流程）
- ✅ 耗时信息（每个步骤耗时）
- ✅ 执行状态（success/warning/error）

### 📞 获取帮助

如果问题仍未解决，运行诊断工具：

```bash
cd /Users/zhao_/Documents/PRC/AI实践/AICommonPlatform
./trace_diagnostic.sh
```

或查看详细调试指南：

```bash
cat TRACE_DEBUG_GUIDE.md
```

---

**关键提示：大多数情况下，清除浏览器缓存和强制刷新会解决问题！** 🎯
